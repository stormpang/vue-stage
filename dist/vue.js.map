{"version":3,"file":"vue.js","sources":["../src/utils.js","../src/observe/array.js","../src/scheduler.js","../src/observe/watcher.js","../src/observe/dep.js","../src/observe/index.js","../src/state.js","../src/compiler/parser.js","../src/compiler/generate.js","../src/compiler/index.js","../src/vnode/patch.js","../src/lifeCycle.js","../src/init.js","../src/vnode/index.js","../src/render.js","../src/global-api/index.js","../src/index.js"],"sourcesContent":["export function isFunction(val) {\n  return typeof val == 'function'\n}\n\nexport function isObject(val) {\n  return typeof val == 'object' && val !== null;\n}\n\n\nlet callbacks = [];\nlet waiting = false;\n\nfunction flushCallbacks() {\n  callbacks.forEach(fn => fn()); // 按照顺序清空nextTick\n  callbacks = [];\n  waiting = false;\n}\n\nexport function nextTick(fn) { // vue3 里面的nextTick 就是promise ， vue2里面做了一些兼容性处理\n  callbacks.push(fn);\n  if (!waiting) {\n    Promise.resolve().then(flushCallbacks);\n    waiting = true\n  }\n}\n\n\nexport let isArray = Array.isArray\n\n// {a:1} {b:1,a:2}  => {b:1,a:[1,2]}\n\n// {}  {beforeCreate:fn}  => {beforecreatre:[fn]}\n// {beforecreatre:[fn]} {beforeCreate:fn}  => {beforecreatre:[fn,fn]}\n\nlet strats = {}; // 存放所有策略\n\nlet lifeCycle = [\n  'beforeCreate',\n  'created',\n  'beforeMount',\n  'mounted'\n];\nlifeCycle.forEach(hook => {\n  strats[hook] = function (parentVal, childVal) {\n    if (childVal) {\n      if (parentVal) { // 父 子 都有值 用父和子拼接在一起， 父有值就一定是数组\n        return parentVal.concat(childVal)\n      } else { // 儿子有值 父亲没有值\n        if (isArray(childVal)) {\n          return childVal\n        }\n        return [childVal] // 如果没值 就会变成数组\n      }\n    } else {\n      return parentVal;\n    }\n  }\n});\n\nexport function mergeOptions(parentVal, childVal) {\n  const options = {}\n  for (let key in parentVal) {\n    mergeFiled(key);\n  }\n  for (let key in childVal) {\n    if (!parentVal.hasOwnProperty(key)) {\n      mergeFiled(key);\n    }\n  }\n\n  function mergeFiled(key) {\n    // 设计模式 策略模式\n    let strat = strats[key];\n    if (strat) {\n      options[key] = strat(parentVal[key], childVal[key]); // 合并两个值\n    } else {\n      options[key] = childVal[key] || parentVal[key];\n    }\n  }\n\n  return options;\n}\n","let oldArrayPrototype = Array.prototype // 获取数组的老的原型方法\n\nexport let arrayMethods = Object.create(oldArrayPrototype) // 让arrayMethods通过__proto__能获取到数组的方法\n// arrayMethods.__proto__ = oldArrayPrototype\n// arrayMethods.push = function\n\nlet methods = [ // 只有这7个方法 可以导致数组发生变化\n  'push',\n  'shift',\n  'pop',\n  'unshift',\n  'reverse',\n  'sort',\n  'splice'\n]\n\nmethods.forEach(method => {\n  arrayMethods[method] = function (...args) {\n    // 数组新增的属性要看一下是不是对象 如果是对象 继续进行劫持\n    // 需要调用数组原生逻辑\n    oldArrayPrototype[method].call(this, ...args)\n    // todo... 可以添加自己逻辑 函数劫持 切片\n    let inserted = null\n    const ob = this.__ob__\n    switch (method) {\n      case 'splice': // 修改 删除 添加\n        inserted = args.slice(2) // splice从第三个参数起 是增添的新数据\n      case 'push':\n      case 'unshift':\n        inserted = args // 调用push和unshift 传递的参数就是新增的逻辑\n        break\n    }\n    // inserted 遍历数组 看一下它是否需要进行劫持\n    if (inserted) {\n      ob.observeArray(inserted)\n    }\n    ob.dep.notify() // 触发页面更新流程\n  }\n})\n\n// 属性的查找：是先找自己身上的，找不到去原型上查找\n","import {nextTick} from \"./utils\";\n\nlet queue = []; // 这里存放要更新的watcher\nlet has = {}; // 用来存储已有的watcher的id\n\nfunction flushSchedulerQueue() {\n  // beforeUpdate\n  queue.forEach(watcher => watcher.run());\n  queue = []; // 这里存放要更新的watcher\n  has = {};\n  pending = false\n}\n\nlet pending = false;\n\nexport function queueWatcher(watcher) { // watcher1 watcher1 watcher1 watcher1  watcher2\n                                        // 一般情况下 写去重 可以采用这种方式 ，如果你不使用set的时候\n  let id = watcher.id\n  if (has[id] == null) {\n    has[id] = true;\n    queue.push(watcher); // [watcher1,watcher2]\n    if (!pending) { // 防抖 多次执行 只走1次\n      nextTick(flushSchedulerQueue)\n      pending = true\n    }\n  }\n}\n","import Dep from \"./dep\";\nimport {queueWatcher} from \"../scheduler\";\n\nlet id = 0\n\nclass Watcher {\n  constructor(vm, fn, cb, options) { // 要将dep放到watcher中\n    this.vm = vm\n    this.fn = fn\n    this.cb = cb\n    this.options = options\n    this.id = id++\n    this.depsId = new Set()\n    this.deps = []\n    this.getter = fn // fn就是页面渲染逻辑\n    this.get() // 标识上来后就做一次初始化\n  }\n\n  addDep(dep) {\n    const id = dep.id\n    if (!this.depsId.has(id)) {\n      this.depsId.add(id)\n      this.deps.push(dep) // 做了保存id的功能 并且让watcher记住dep\n      dep.addSub(this)\n    }\n  }\n\n  get() {\n    Dep.target = this // window.target = watcher\n    this.getter() // 页面渲染逻辑 _update(_render()) vm.name / vm.age\n    Dep.target = null // 渲染完毕后 就将标识清空了 只有在渲染的时候才会进行依赖收集\n  }\n\n  update() { // 每次更新数据都会同步调用这个update方法 我可以将更新的逻辑缓存起来 等会同步更新数据的逻辑执行完毕后 依次调用（去重的逻辑）\n    console.log('缓存更新')\n    queueWatcher(this)\n    // 可以做异步更新处理\n    // this.get() // vue.nextTick [fn1,fn2,fn3]\n  }\n\n  run() {\n    console.log('真正执行更新')\n    this.get()\n  }\n}\n\nexport default Watcher\n","import watcher from \"./watcher\";\n\nlet id = 0\n\nclass Dep {\n  constructor() { // 要把watcher放到dep中\n    this.subs = []\n    this.id = id++\n  }\n\n  depend() {\n    // this.subs.push(Dep.target) // 让dep记住这个watcher,watcher还要记住dep 相互的关系\n    Dep.target.addDep(this) // 在watcher中在调用dep的addSub方法\n  }\n\n  addSub(watcher) {\n    this.subs.push(watcher) // 让dep记住watcher\n  }\n\n  notify() {\n    this.subs.forEach(watcher => watcher.update())\n  }\n}\n\nDep.target = null // 这里我用了一个全局的变量 window.target 静态属性\n\nexport default Dep\n","import {isArray, isObject} from \"../utils\";\nimport {arrayMethods} from \"./array\";\nimport Dep from \"./dep\"\n\n// 1.每个对象都有一个__proto__属性 它指向所属类的原型 fn.__proto__ = Function.prototype\n// 2.每个原型上都有一个constructor属性 指向函数本身 Function.prototype.constructor = Function\nclass Observer {\n  constructor(value) {\n    // 不让__ob__被遍历到\n    // value.__ob__ = this // 我给对象和数组添加一个自定义属性\n    // 如果给一个对象增添一个不存在的属性 我希望也能更新视图\n    this.dep = new Dep() // 给对象和数组都增加dep属性 {}.__ob__.dep  [].__ob__.dep\n    Object.defineProperty(value, '__ob__', {\n      value: this,\n      enumerable: false // 表示这个属性不能被列举出来 不能被循环到\n    })\n    if (isArray(value)) {\n      // 更改数组原型方法，如果是数组 我就改写数组的原型链\n      value.__proto__ = arrayMethods\n      this.observeArray(value)\n\n      // 数组 如何依赖收集 而且更新的时候 如何触发更新？\n    } else {\n      this.walk(value) // 核心就是循环对象\n    }\n  }\n\n  observeArray(data) { // 递归遍历数组，对数组内部的对象再次进行重写\n    data.forEach(item => {\n      observe(item) // 数组里面如果是引用类型 那么是响应式的\n    })\n  }\n\n  walk(data) {\n    Object.keys(data).forEach(key => { // 要使用defineProperty重新定义\n      defineReactive(data, key, data[key])\n    })\n  }\n}\n\nfunction dependArray(value) {\n  for (let i = 0; i < value.length; i++) {\n    const current = value[i]\n    current.__ob__ && current.__ob__.dep.depend()\n    if (Array.isArray(current)) {\n      dependArray(current)\n    }\n  }\n}\n\n// vue2应用了defineProperty需要一加载的时候 就进行递归操作 所以耗性能 如果层次过深也会浪费性能\n// 1.性能优化的原则:\n// 1）不要把所有的数据都放到data中 因为所有的数据都会增加get和set\n// 2）不要写数据的时候 层次过深 尽量扁平化数据\n// 3）不要频繁获取数据\n// 4）如果数据不需要响应式 可以使用Object.freeze 冻结属性\nfunction defineReactive(obj, key, value) { // vue2慢的原因 主要在这个方法中\n  const childOb = observe(value) // 递归进行观测数据 不管有多少层 我都进行defineProperty\n  // childOb 如果有值 那么就是数组或对象\n  const dep = new Dep() // 每个属性都增加了一个dep\n  Object.defineProperty(obj, key, {\n    get() { // 后续会有很多逻辑\n      if (Dep.target) {\n        dep.depend()\n        if (childOb) {\n          childOb.dep.depend() // 取属性的时候 会对对应的值（对象本身和数组）进行依赖收集\n          if (Array.isArray(value)) {\n            // 可能是数组套数组\n            dependArray(value)\n          }\n        }\n      }\n      return value; // 闭包，次此value 会像上层的value进行查找\n    },\n    set(newValue) {  // 如果设置的是一个对象那么会再次进行劫持\n      if (newValue === value) return\n      observe(newValue)\n      value = newValue\n      dep.notify() // 拿到当前的dep里面的watcher依次执行\n    }\n  })\n}\n\nexport function observe(value) {\n  // 1.如果value不是对象 那么就不用观测了 说明写的有问题\n  if (!isObject(value)) {\n    return\n  }\n\n  if (value.__ob__) {\n    return // 一个对象不需要重新被观测\n  }\n\n  // 需要对对象进行观测（最外层必须是一个{} 不能是数组）\n  // 如果一个数据已经被观测过了 就不要在进行观测了 用类来实现 我管测过就增加一个标识 说明观测过了 在观测的时候可以先检测是否观测过 如果观测过了就跳过\n  return new Observer(value)\n}\n\n// 1.默认vue在初始化的时候 会对对象每一个属性都进行劫持 增加dep属性 当取值的时候会做依赖收集\n// 2.默认还会对属性值（对象和数组的本身进行增加dep属性）进行依赖收集\n// 3.如果是属性变化 触发属性对应的dep去更新\n// 4.如果是数组更新 触发数组的本身dep进行更新\n// 5.如果取值的时候是数组还要让数组中的对象类型也进行依赖收集（递归依赖收集）\n// 6.如果数组里面放对象 默认对象里的属性实惠进行依赖收集的 因为在取值时 会进行JSON.stringify操作\n","import {isFunction} from \"./utils\";\nimport {observe} from \"./observe\";\n\nexport function initState(vm) {\n  const opts = vm.$options\n\n  if (opts.data) {\n    initData(vm)\n  }\n}\n\nfunction proxy(vm, key, source) { // 取值的时候做代理 不是暴力的把_data属性赋予给vm 而且直接赋值会有命名冲突问题\n  Object.defineProperty(vm, key, {\n    get() {\n      return vm[source][key]\n    },\n    set(newValue) {\n      vm[source][key] = newValue\n    }\n  })\n}\n\nfunction initData(vm) {\n  let data = vm.$options.data // 用户传入的数据\n\n  // 如果用户传递的是一个函数 则取函数的返回值作为对象 如果就是对象那就直接使用这个对象\n  // 只有根实例可以是一个对象\n  data = vm._data = isFunction(data) ? data.call(vm) : data\n\n  // 需要将data变成响应式的 Object.defineProperty 重写data中的所有属性\n  observe(data) // 观测数据\n\n  for (let key in data) { // vm.message => vm._data.message\n    proxy(vm, key, '_data')\n  }\n}\n","const ncname = `[a-zA-Z_][\\\\-\\\\.0-9_a-zA-Z]*`; // 匹配标签名的  aa-xxx\nconst qnameCapture = `((?:${ncname}\\\\:)?${ncname})`; //  aa:aa-xxx\nconst startTagOpen = new RegExp(`^<${qnameCapture}`); //  此正则可以匹配到标签名 匹配到结果的第一个(索引第一个) [1]\nconst endTag = new RegExp(`^<\\\\/${qnameCapture}[^>]*>`); // 匹配标签结尾的 </div>  [1]\nconst attribute = /^\\s*([^\\s\"'<>\\/=]+)(?:\\s*(=)\\s*(?:\"([^\"]*)\"+|'([^']*)'+|([^\\s\"'=<>`]+)))?/; // 匹配属性的\n\n// [1]属性的key   [3] || [4] ||[5] 属性的值  a=1  a='1'  a=\"\"\nconst startTagClose = /^\\s*(\\/?)>/; // 匹配标签结束的  />    >\n\nexport function parserHTML(html) {\n  // 可以不停的截取模版，直到把模版全部解析完毕\n\n  // 我要构建父子关系\n  let stack = []\n  let root = null\n\n  function createASTElement(tag, attrs, parent) {\n    return {\n      tag,\n      type: 1, // 元素\n      children: [],\n      parent,\n      attrs\n    }\n  }\n\n  function start(tag, attrs) {\n    // 遇到开始标签 就取栈中最后一个作为父节点\n    let parent = stack[stack.length - 1]\n    let element = createASTElement(tag, attrs, parent)\n    if (root == null) { // 说明当前节点是根节点\n      root = element\n    }\n    if (parent) {\n      element.parent = parent// 更新p的parent属性 指向parent\n      parent.children.push(element)\n    }\n    stack.push(element)\n  }\n\n  function end(tagName) {\n    let endTag = stack.pop()\n    if (endTag.tag !== tagName) {\n      console.log('标签出错')\n    }\n  }\n\n  function text(chars) {\n    let parent = stack[stack.length - 1]\n    chars = chars.replace(/\\s/g, '')\n    if (chars) {\n      parent.children.push({\n        type: 2,\n        text: chars\n      })\n    }\n  }\n\n  function advance(len) {\n    html = html.substring(len)\n  }\n\n  function parseStartTag() {\n    const start = html.match(startTagOpen)\n    if (start) {\n      const match = {\n        tagName: start[1],\n        attrs: []\n      }\n      advance(start[0].length)\n\n      let end\n      let attr\n      while (!(end = html.match(startTagClose)) && (attr = html.match(attribute))) { // 要有属性并且不能为开始的结束标签\n        match.attrs.push({name: attr[1], value: attr[3] || attr[4] || attr[5]})\n        advance(attr[0].length)\n      }\n      if (end) {\n        advance(end[0].length)\n      }\n      return match\n    }\n    return false\n  }\n\n  while (html) {\n    // 解析标签和文本\n    const index = html.indexOf('<')\n    if (index === 0) {\n      // 解析开始标签 并且把属性也解析出来\n      const startTagMatch = parseStartTag()\n      if (startTagMatch) { // 开始标签\n        start(startTagMatch.tagName, startTagMatch.attrs)\n        continue\n      }\n      let endTagMatch\n      if (endTagMatch = html.match(endTag)) { // 结束标签\n        end(endTagMatch[1])\n        advance(endTagMatch[0].length)\n        continue\n      }\n      break\n    }\n\n    // 文本\n    if (index > 0) {\n      const chars = html.substring(0, index)\n      text(chars)\n      advance(chars.length)\n    }\n  }\n\n  return root\n}\n","const defaultTagRE = /\\{\\{((?:.|\\r?\\n)+?)\\}\\}/g; // {{   xxx  }}\n\nfunction genProps(attrs) {\n  // {key:value,key:value,}\n  let str = '';\n  for (let i = 0; i < attrs.length; i++) {\n    let attr = attrs[i];\n    if (attr.name === 'style') { // {name:id,value:'app'}\n      let styles = {}\n      attr.value.replace(/([^;:]+):([^;:]+)/g, function () {\n        styles[arguments[1]] = arguments[2];\n      })\n      attr.value = styles\n    }\n    str += `${attr.name}:${JSON.stringify(attr.value)},`\n  }\n  return `{${str.slice(0, -1)}}`\n}\n\nfunction gen(el) {\n  if (el.type == 1) {\n    return generate(el); // 如果是元素就递归的生成\n  } else {\n    let text = el.text; // {{}}\n    if (!defaultTagRE.test(text)) return `_v('${text}')`; // 说明就是普通文本\n\n    // 说明有表达式 我需要 做一个表达式和普通值的拼接 ['aaaa',_s(name),'bbb'].join('+)\n    // _v('aaaa'+_s(name) + 'bbb')\n    let lastIndex = defaultTagRE.lastIndex = 0;\n    let tokens = []; // <div> aaa{{bbb}} aaa </div>\n    let match;\n\n    // ，每次匹配的时候 lastIndex 会自动向后移动\n    while (match = defaultTagRE.exec(text)) { // 如果正则 + g 配合exec 就会有一个问题 lastIndex的问题\n      let index = match.index;\n      if (index > lastIndex) {\n        tokens.push(JSON.stringify(text.slice(lastIndex, index)));\n      }\n      tokens.push(`_s(${match[1].trim()})`);\n      lastIndex = index + match[0].length;\n    }\n    if (lastIndex < text.length) {\n      tokens.push(JSON.stringify(text.slice(lastIndex)));\n    }\n    return `_v(${tokens.join('+')})`; // webpack 源码 css-loader  图片处理\n  }\n}\n\nfunction genChildren(el) {\n  let children = el.children;\n  if (children) {\n    return children.map(item => gen(item)).join(',')\n  }\n  return false;\n}\n\n// _c(div,{},c1,c2,c3,c4)\nexport function generate(ast) {\n  let children = genChildren(ast)\n  let code = `_c('${ast.tag}',${\n    ast.attrs.length ? genProps(ast.attrs) : 'undefined'\n  }${\n    children ? `,${children}` : ''\n  })`\n  return code;\n}\n","import {parserHTML} from \"./parser\";\nimport {generate} from \"./generate\";\n\nexport function compileToFunction(template) {\n  // 1.将模版变成ast语法树\n  let ast = parserHTML(template)\n\n  // 2.代码优化 标记静态节点\n\n  // 3.代码生成\n  const code = generate(ast) // 模版引擎的实现原理 都是 new Function + with ejs jade handlerbar\n  const render = new Function(`with(this){return ${code}}`)\n  return render\n}\n\n// 1.编译原理\n// 2.响应式原理 依赖收集\n// 3.组件化开发（贯穿了vue的流程）\n// 4.diff算法\n","export function patch(el, vnode) {\n  // 删除老节点 根据vnode创建新节点 替换掉老节点\n  const elm = createElm(vnode) // 根据虚拟节点创造了真实节点\n  const parentNode = el.parentNode\n  parentNode.insertBefore(elm, el.nextSibling) // el.nextSibling不存在就是null 如果为null nextSibling就是appendChild\n  parentNode.removeChild(el)\n\n  return elm // 返回最新节点\n}\n\nfunction createElm(vnode) {\n  let {tag, data, children, text, vm} = vnode\n  // 我们让虚拟节点和真实节点做一个映射关系 后续某个虚拟节点更新了 我可以跟踪到真实节点 并且更新真实节点\n  if (typeof tag === 'string') {\n    vnode.el = document.createElement(tag)\n    // 如果有data属性 我们需要把data设置到元素上\n    updateProperties(vnode.el, data)\n    children.forEach(child => {\n      vnode.el.appendChild(createElm(child))\n    })\n  } else {\n    vnode.el = document.createTextNode(text)\n  }\n  return vnode.el\n}\n\nfunction updateProperties(el, props = {}) {\n  for (let key in props) {\n    el.setAttribute(key, props[key])\n  }\n}\n","import {patch} from \"./vnode/patch\";\nimport Watcher from \"./observe/watcher\";\n\nexport function mountComponent(vm) {\n  // 初始化流程\n  const updateComponent = () => {\n    vm._update(vm._render()) // render() _c _v _s\n  }\n  // 每个组件都有一个watcher 我们把这个watcher称之为渲染watcher\n  callHook(vm, 'beforeCreate')\n  new Watcher(vm, updateComponent, () => {\n    console.log('后续增添更新钩子函数 update')\n    callHook(vm, 'created');\n  }, true)\n  callHook(vm, 'mounted')\n}\n\nexport function lifeCycleMixin(Vue) {\n  Vue.prototype._update = function (vnode) {\n    // 采用的是 先序深度遍历 创建节点（遇到节点就创造节点 递归创建）\n    const vm = this\n    vm.$el = patch(vm.$el, vnode)\n  }\n}\n\nexport function callHook(vm, hook) {\n  const handlers = vm.$options[hook]\n  handlers && handlers.forEach(item => {\n    item.call(vm) // 生命周期的this永远指向实例\n  })\n}\n","import {initState} from \"./state\";\nimport {compileToFunction} from \"./compiler\";\nimport {mountComponent} from \"./lifeCycle\";\nimport {mergeOptions, nextTick} from \"./utils\";\n\nexport function initMixin(Vue) {\n  // 后续组件化开发的时候 Vue.extend 可以创造一个子组件 子组件可以继承Vue 子组件也可以调用_init方法\n  Vue.prototype._init = function (options) {\n    const vm = this\n\n    // 把用户的选项放到vue上，这样在其他地方中都可以获取到options了\n    vm.$options = mergeOptions(vm.constructor.options, options) // 为了后续扩展的方法都可以获取$options选项\n\n    // options中用户传入的数据 el data\n    initState(vm)\n\n    if (vm.$options.el) {\n      // 要将数据挂再到页面上\n\n      // 现在数据已经被劫持了,数据变化需要更新视图 diff算法更新需要更新的部分\n      // vue -> template(写起来更符合直觉) -> jax(灵活)\n      // vue3 template 写起来性能会更高一些 内部做了很多优化\n\n      // template -> ast语法树(用来描述语法本身) -> 描述成一个树结构 -> 将代码重组成js语法\n      // 模版编译原理(把template模版编译成render函数 -> 虚拟DOM -> diff算法比对虚拟DOM)\n\n      // ast -> render返回 -> vnode -> 生成真实DOM\n      // 更新的时候再次调用render -> 新的vnode -> 新旧比对 -> 更新真实DOM\n\n      vm.$mount(vm.$options.el)\n    }\n  }\n\n  // new Vue({el}) new Vue().$mount\n  Vue.prototype.$mount = function (el) {\n    const vm = this\n    const opts = vm.$options\n    el = document.querySelector(el) // 获取真实的元素\n    vm.$el = el // 页面真实元素\n\n    if (!opts.render) {\n      // 模版变异\n      let template = opts.template\n      if (!template) {\n        template = el.outerHTML\n      }\n      const render = compileToFunction(template)\n      opts.render = render\n    }\n\n    // 这里已经获取到了一个render函数 这个函数他的返回值 _c('div',{id:'app'},_c('span',undefined,'hello'))\n    mountComponent(vm)\n  }\n\n  Vue.prototype.$nextTick = nextTick\n}\n","export function createElement(vm, tag, data = {}, ...children) { // 返回虚拟节点\n  return vnode(vm, tag, data, children, data.key, undefined)\n}\n\nexport function createText(vm, text) { // 返回虚拟节点\n  return vnode(vm, undefined, undefined, undefined, undefined, text)\n}\n\nfunction vnode(vm, tag, data, children, key, text) {\n  return {\n    vm, tag, data, children, key, text\n  }\n}\n\n// vnode 其实就是一个对象 用来描述节点的 这个和ast长的很像啊？\n// ast描述语法 他并没有用户自己的逻辑 只有语法解析出来的内容\n// vnode他是描述dom结构的 可以自己去扩展属性\n","import {isObject} from \"./utils\";\nimport {createElement, createText} from \"./vnode\";\n\nexport function renderMixin(Vue) {\n  Vue.prototype._c = function () { // createElement 创建元素型的节点\n    const vm = this;\n    return createElement(vm, ...arguments)\n  }\n  Vue.prototype._v = function (text) { // 创建文本的虚拟节点\n    const vm = this;\n    return createText(vm, text); // 描述虚拟节点是属于哪个实例的\n  }\n  Vue.prototype._s = function (val) { // JSON.stingfiy()\n    if (isObject(val)) return JSON.stringify(val);\n    return val;\n  }\n  Vue.prototype._render = function () {\n    const vm = this // vm中有所有的数据 vm.xxx => xm._data.xxx\n    let {render} = vm.$options\n    let vnode = render.call(vm)\n    return vnode\n  }\n}\n","import {mergeOptions} from \"../utils\";\n\nexport function initGlobalAPI(Vue) {\n\n  Vue.options = {}; // 全局属性 , 在每个组件初始化的时候 将这些属性放到每个组件上\n  Vue.mixin = function (options) {\n    this.options = mergeOptions(this.options, options);\n    return this;\n  }\n\n  Vue.component = function name(params) {\n\n  }\n  Vue.filter = function name(params) {\n\n  }\n  Vue.directive = function name(params) {\n\n  }\n}\n","import {initMixin} from './init'\nimport {renderMixin} from \"./render\";\nimport {lifeCycleMixin} from \"./lifeCycle\";\nimport {initGlobalAPI} from \"./global-api\";\n\n// vue要如何实现 原型模式 所有的功能都通过原型扩展的方式来添加\nfunction Vue(options) {\n  this._init(options) // 实现vue的初始化功能\n}\n\ninitMixin(Vue)\nrenderMixin(Vue)\nlifeCycleMixin(Vue)\n\ninitGlobalAPI(Vue)\n\n// 导出Vue给别人使用\nexport default Vue\n\n// 1.new Vue 会调用_init方法进行初始化操作\n// 2.会将用户的选项放到 vm._options 上\n// 3.会对当前属性上搜索有没有data数据 initState\n// 4.有data判断data是不是一个函数 如果是函数取返回值 initData\n// 5.observe去观测data中的数据 和vm没关系 说明data已经变成了响应式\n// 6.vm上想取值也能渠道data中的数据 vm._data = data 这样用户能取到data了 vm._data\n// 7.用户觉得有点麻烦 vm.xxx => vm._data\n// 8.如果更新对象不存在的属性 会导致视图不更新 如果是数组更新索引和长度不会触发更新\n// 9.如果是替换成一个新对象 新对象会被进行劫持 如果数组存放新内容push unshift 新增的内容也会被劫持 通过__ob__进行表示这个对象被监控过（在vue中被监控的对象都有一个__ob__这个属性）\n// 10. 如果你就想改索引 可以使用$set方法 内部就是splice\n\n// 只有根组件的情况：每个属性都有一个dep\n// 1.vue里面用到了观察者模是，默认组件选人的时候，会创建一个watcher（并且会渲染视频）\n// 2.当渲染视图的时候，会取data的数据，会走每个属性的get方法，就让这个属性的dep记录watcher\n// 3. 同时让watcher也记住dep（这个逻辑目前没用到）dep和watcher是多对多的关系，因为一个属性可能对应多个视图，一个视图对应多个数据\n// 4.如果数据发生变化，会通知对应属性的dep，依次通知存放的watcher去更新\n"],"names":["isFunction","val","isObject","callbacks","waiting","flushCallbacks","forEach","fn","nextTick","push","Promise","resolve","then","isArray","Array","strats","lifeCycle","hook","parentVal","childVal","concat","mergeOptions","options","key","mergeFiled","hasOwnProperty","strat","oldArrayPrototype","prototype","arrayMethods","Object","create","methods","method","args","call","inserted","ob","__ob__","slice","observeArray","dep","notify","queue","has","flushSchedulerQueue","watcher","run","pending","queueWatcher","id","Watcher","constructor","vm","cb","depsId","Set","deps","getter","get","addDep","add","addSub","Dep","target","update","console","log","subs","depend","Observer","value","defineProperty","enumerable","__proto__","walk","data","item","observe","keys","defineReactive","dependArray","i","length","current","obj","childOb","set","newValue","initState","opts","$options","initData","proxy","source","_data","ncname","qnameCapture","startTagOpen","RegExp","endTag","attribute","startTagClose","parserHTML","html","stack","root","createASTElement","tag","attrs","parent","type","children","start","element","end","tagName","pop","text","chars","replace","advance","len","substring","parseStartTag","match","attr","name","index","indexOf","startTagMatch","endTagMatch","defaultTagRE","genProps","str","styles","arguments","JSON","stringify","gen","el","generate","test","lastIndex","tokens","exec","trim","join","genChildren","map","ast","code","compileToFunction","template","render","Function","patch","vnode","elm","createElm","parentNode","insertBefore","nextSibling","removeChild","document","createElement","updateProperties","child","appendChild","createTextNode","props","setAttribute","mountComponent","updateComponent","_update","_render","callHook","lifeCycleMixin","Vue","$el","handlers","initMixin","_init","$mount","querySelector","outerHTML","$nextTick","undefined","createText","renderMixin","_c","_v","_s","initGlobalAPI","mixin","component","params","filter","directive"],"mappings":"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"}